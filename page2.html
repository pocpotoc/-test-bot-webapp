<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Вторая страница</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; margin: 0; background: #e0f7fa; }
        h2 { color: #0088cc; }
        button { font-size: 1.1em; padding: 0.8em 1.5em; border-radius: 8px; border: none; background: #0088cc; color: #fff; cursor: pointer; margin-top: 2em; }
        button:hover { background: #005f8c; }
    </style>
</head>
<body>
    <h2>Это вторая страница!</h2>
    <button id="sendBtn">Отправить в чат и закрыть</button>
    <button id="sendBtnNoClose">Отправить в чат (не закрывать)</button>
    <button id="backBtn">Назад</button>
    <div style="margin-top:2em;">
        <label>
            <input type="checkbox" id="rememberCheck"> Запомнить меня (localStorage)
        </label>
    </div>
    <script>
        const tg = window.Telegram.WebApp;
        // Кнопка отправки данных в чат и закрытия мини-аппа
        document.getElementById('sendBtn').onclick = function() {
            tg.sendData('send_buttons');
            tg.close();
        };
        // Кнопка отправки данных в чат без закрытия мини-аппа
        document.getElementById('sendBtnNoClose').onclick = function() {
            tg.sendData('send_buttons');
        };
        // Кнопка назад
        document.getElementById('backBtn').onclick = function() {
            window.location.href = 'index.html';
        };
        // Работа с localStorage
        const rememberCheck = document.getElementById('rememberCheck');
        rememberCheck.checked = localStorage.getItem('rememberMe') === 'true';
        rememberCheck.onchange = function() {
            localStorage.setItem('rememberMe', rememberCheck.checked);
        };
    </script>
</body>
</html>
